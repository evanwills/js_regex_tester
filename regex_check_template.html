<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<title>Regex debugger (es5 with PHP fallback)</title>
		<link href="regex.css" rel="stylesheet" />
		<link href="bootstrap-3.2.0-dist/css/bootstrap.css" rel="stylesheet" />
		<link href="bootstrap-3.2.0-dist/css/bootstrap-theme.css" rel="stylesheet" />
	</head>
	<body>
		<header>
			<h1>Regex debugger</h2>
			<h2>(es5 with PHP fallback)</h2>
		</header>
		<form id="regex" method="post" action="{{REQUEST_URI}}">
			<ul class="nav nav-tabs">
				<li><a href="#input" data-toggle="tab">Input</a></li>
				<li class="active"><a href="#regexes" data-toggle="tab" class="active">Regex</a></li>
{{EXTRA_TABS}}
			</ul>

			<div class="tab-content">
				<fieldset id="input" class="tab-pane fade">
					<legend>Sample</legend>
					<textarea id="sample" name="sample" class="form-control">{{SAMPLE}}</textarea>
					<h2>Clean white space options</h2>
					<ul class="inline">
						<li>
							<label>
								<input type="checkbox" name="ws_trim" id="ws_trim" value="true" tabindex="19" />
								Trim white space from sample
							</label>
						</li>
						<li>
							<label class="disabled">
								<input type="radio" name="ws_action" id="ws_trim_pos_before" value="true" tabindex="20" disabled="disabled" />
								<span>Trim white space from sample</span> before processing
							</label>
							or
						</li>
						<li>
							<label class="disabled">
								<input type="radio" name="ws_action" id="ws_trim_pos_after" value="false" checked="checked" tabindex="21" disabled="disabled" />
								<span>Trim white space from sample</span> after processing
							</label>
						</li>
					</ul>
					<h2>Split sample</h2>
					<ul class="inline">
						<li>
							<label>
								<input type="checkbox" name="split_sample" id="split_sample" value="true" tabindex="22" />
								Split the sample into pieces
							</label>
						</li>
						<li>
							<label for="split_delim" class="disabled">
								Character to split the sample with
							</label>
							<input type="text" name="split_delim" id="split_delim" value="\n" maxlength="2" size="3" tabindex="23" disabled="disabled" />
						</li>
					</ul>
				</fieldset>


				<fieldset id="regexes" class="tab-pane fade in active">
					<legend>Regular Expressions</legend>
					<p class="note"><strong>Note:</strong> <span class="warning">Do not</span> use opening and closing delimiters. If regexes are sent to the server, back ticks (`) will automatically inserted as opening and closing delimiters.</p>
					<ol class="regexes">
{{PAIRS}}
					</ol>
					<div>
						<label for="add_regex_pair">
							<button id="add_regex_pair" class="btn btn-info">Add</button>
							<span class="hiding">another find/replace pair</span>
						</label>

						<label for="remove_regex_pair" class="hiding">
							<button id="remove_regex_pair" class="btn btn-warning">Remove</button>
							<span class="hiding">the last find/replace pair</span>
						</label>
						<p>Often it is easier to use multiple simple consecutive regular expressions to effect changes rather than try and do it with a single highly complex (and therefore fragile) regex. Add additional Find/Replace pairs.</p>
						<p class="note"><strong>NOTE:</strong> Pairs with no pattern in the "Find" field will be ignored.</p>
					</div>
				</fieldset>
{{RESULTS}}
{{OUTPUT}}
			</div>

			<fieldset id="butt">
				<legend><h2>Submit details</h2></legend>
				<p>
					<label for="test">Test the regular expressions against the sample only</label><!--
					--><input type="submit" name="submit_test" id="submitTest" value="Test only" title="Test regex and sample only" class="btn btn-success test b-left" /><!--
					--><label for="replace">Use the regular expressions to do a find and replace</label><!--
					--><input type="submit" name="submit_replace" id="submitReplace" value="Replace" title="Test regex and sample only" class="btn btn-danger change b-right" />
				</p>
			</fieldset>
		</form>
		<a href="<?php echo $_SERVER['REQUEST_URI']; ?>" rel="sidebar" title="Regex Debugger (JS/PHP)">Install as sidebar</a>
		<script type="text/javascript" src="bootstrap-3.2.0-dist/js/jquery-2.1.1.min.js"></script>
		<script type="text/javascript" src="bootstrap-3.2.0-dist/js/bootstrap.min.js"></script>
		<script type="text/javascript" src="regex.js"></script>
		<script type="text/javascript" src="bootstrap-3.2.0-dist/js/xregexp-min.js"></script>
	</body>
</html>
